---
import NavbarLink from './NavbarLink.astro'
import { Icon } from 'astro-icon/components'
import ThemeSelector from './ThemeSelector.astro'
import { SITE_BASE, WebsiteLinks, SocialLinks } from '../consts'
import { Button } from '@/components/starwind/button'
import {
	Sheet,
	SheetTrigger,
	SheetContent,
	SheetHeader,
	SheetFooter,
} from '@/components/starwind/sheet'
---

<header class="fixed top-0 left-0 right-0 md:w-[90%] mx-auto z-40">
	<nav class="">
		<div
			class="app-container md:border-2 md:rounded-full flex justify-between items-center py-1 mt-2 not-md:border-b not-md:border-b-[#2d4d42] bg-background dark:bg-background"
		>
			<a
				href={`${SITE_BASE}/`}
				aria-label="Home"
				aria-current={Astro.url.pathname === `${SITE_BASE}/`
					? 'page'
					: undefined}
			>
				<!-- <LogoSVG height={36} width={36} /> -->
				<h2 class="text-2xl font-bold">GREG BARBOSA</h2>
			</a>
			<div class="gap-8 hidden md:flex items-center">
				{
					WebsiteLinks.map((link) => (
						<NavbarLink
							class="text-md"
							href={`${link.url}`}
							target={link.url.charAt(0) === 'h' ? '_blank' : '_self'}
						>
							{link.name}
						</NavbarLink>
					))
				}
				<Button variant="primary" size="sm" href="#footer">Subscribe</Button>
				<ThemeSelector />
			</div>
			<Sheet class="md:hidden">
				<SheetTrigger asChild>
					<button
						aria-label="Open navigation menu"
						class="md:hidden cursor-pointer rounded-md hover:bg-muted transition-colors"
						title="Open navigation menu"
					>
						<Icon aria-hidden name="mdi:menu" size={32} />
					</button>
				</SheetTrigger>
				<SheetContent>
					<SheetHeader>
						<div class="flex justify-between items-center">
							<ThemeSelector />
						</div>
					</SheetHeader>
					<div class="flex flex-col px-4 gap-5">
						{
							WebsiteLinks.map((link) => (
								<NavbarLink
									class="text-3xl text-foreground hover:text-primary"
									href={link.url}
								>
									{link.name}
								</NavbarLink>
							))
						}
					</div>
					<SheetFooter>
						<div class="flex flex-wrap justify-between gap-4 mt-4">
							{
								SocialLinks.map((link) => (
									<a
										class="text-lg text-foreground hover:text-primary"
										href={link.url}
										target="_blank"
										rel="noopener noreferrer"
										aria-label={link.name}
									>
										<Icon class="text-3xl" name={`mdi:${link.icon}`} />
									</a>
								))
							}
						</div>
						<Button variant="primary">Subscribe</Button>
					</SheetFooter>
				</SheetContent>
			</Sheet>
		</div>
	</nav>
</header>
